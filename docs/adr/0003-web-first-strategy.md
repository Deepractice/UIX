# ADR-0003: Web 优先策略

## 状态

Accepted

## 日期

2024-12-21

## 背景

在讨论 UIX 的平台策略时，存在两个考量：

1. **移动端需求**：用户明确表示需要支持移动端
2. **资源限制**：同时支持多平台会分散精力

当前技术选型分析：

| 方案 | 优点 | 缺点 |
|-----|------|------|
| React Native | 真正原生 | 需要维护两套代码 |
| Flutter | 跨平台一致 | 非 Web 生态 |
| PWA | 复用 Web 代码 | 原生能力有限 |
| 响应式 Web | 开发效率最高 | 移动体验有妥协 |

结合 [ADR-0002](./0002-defer-protocol-selection.md) 的协议观察期策略，移动端架构高度依赖协议选择：
- A2UI 是 Native-first
- MCP Apps 是 Web-first

过早决定移动端技术栈可能导致未来需要重构。

## 决策

采用 **Web 优先（Web First）策略**：

1. **第一阶段（当前）**：专注 Web 平台
   - 响应式设计，适配不同屏幕尺寸
   - 移动端通过移动浏览器访问
   - 组件设计考虑触摸交互

2. **第二阶段（协议明确后）**：评估原生移动端
   - 根据协议选择决定技术栈
   - 可能方案：React Native、Flutter 或 PWA
   - 组件 API 保持一致

3. **过渡期支持**：
   - 现有 Web 组件通过 WebView 在移动端可用
   - 确保核心功能在移动浏览器上可用

## 后果

### 正面

- 开发资源聚焦，交付速度更快
- 避免维护多套代码
- 与协议观察期策略协调一致
- Web 技术栈成熟稳定

### 负面

- 移动端体验在短期内有妥协
- 可能失去移动端优先的竞品优势
- 离线能力受限

### 风险缓解

- 确保 Web UI 在移动浏览器上可用
- 使用响应式设计适配不同屏幕
- 触摸友好的交互设计

## 相关决策

- [ADR-0002](./0002-defer-protocol-selection.md) - UI 协议选择延迟决策
