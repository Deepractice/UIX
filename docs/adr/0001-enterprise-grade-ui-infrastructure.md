# ADR-0001: AI-to-UI 协议层定位

## 状态

Accepted (Updated v2)

## 日期

2024-12-21 (Updated)

## 背景

Deepractice 组织需要为 AI Agent 应用建立统一的 UI 解决方案。在讨论过程中经历了重大定位演进：

### 定位演变

1. **最初定位**："组织级 UI 规范" → 太局限于内部使用
2. **第一次调整**："企业级 UI 基础设施" → 可能排斥个人开发者
3. **第二次调整**："AI Agent UI 基础设施" → 仍是组件库思维
4. **最终定位**：**AI-to-UI 协议层** → 本质性差异化

### 核心洞察

> **消费者是 AI，不是开发者。**

传统组件库：开发者写代码 → 调用组件 → UI
UIX 协议：**AI 生成 UIX IR → 系统渲染 → UI**

这不是一个给开发者用的组件库，而是一个让 AI 能够生成 UI 的协议层。

### 市场现状

| 协议 | 状态 | 问题 |
|------|------|------|
| A2UI (Google) | v0.8 Preview | 只支持 Android TV/Wear OS，**不支持 Web** |
| MCP Apps (Anthropic) | SEP-1865 Draft | 还在设计中，**不能用** |

**今天没有一个生产可用的 AI-to-UI 协议。**

## 决策

将 UIX 定位为 **AI-to-UI 协议层**：

```
┌─────────────────────────────────────────────────────────────┐
│                        UIX                             │
│              "连接 AI 与 UI 的桥梁"                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  第一层: UIX IR       UI 描述的 JSON Schema                 │
│  第二层: 渲染器          React, A2UI, MCP Apps                │
│  第三层: 设计系统        令牌、组件、模式                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

核心定位：
- **不是**：给开发者用的组件库（如 Ant Design、Material UI）
- **不是**：纯 Web UI 框架
- **是**：让 AI 能够生成 UI 的协议层
- **是**：UIX IR 是协议核心，渲染器是实现
- **是**：从 AgentX 实践中抽象的标准

### 与传统组件库的区别

| 维度 | 传统组件库 | UIX |
|-----|----------|----------|
| 消费者 | 开发者 | **AI** |
| 输入 | 代码调用 | **JSON Schema (UIX IR)** |
| 核心价值 | 组件复用 | **协议标准化** |
| 扩展方式 | 添加组件 | **适配更多渲染目标** |

### 为什么不等大厂标准成熟？

> "A2UI 和 MCP Apps 是未来的目标，UIX IR 是今天的桥梁。我们不是在重复造轮子，是在造一个可以适配任何轮子的适配器。"

| 方案 | 风险 |
|------|------|
| 等标准成熟 | AgentX 没有 UI，产品停滞 |
| 直接绑定 A2UI | A2UI 变了就要大改 |
| 直接绑定 MCP Apps | 同样的问题 |
| **UIX IR + 适配器** | 内部稳定，外部灵活 |

## 后果

### 正面

- **差异化清晰**：协议层 vs 组件库是本质区别
- **AI 优先**：设计决策围绕 AI 能力优化
- **适配器模式**：未来可无缝对接 A2UI、MCP Apps
- **从实践中来**：基于 AgentX 的实际需求

### 负面

- 概念较新，需要教育市场
- 需要维护协议规范文档
- 可能被误解为"又一个组件库"

### 关键区分

当被问"这和 shadcn/ui 有什么区别"时：

> shadcn/ui 是给开发者复制粘贴的组件集合。
> UIX 是让 AI 生成 UI 的协议规范。
> 前者的消费者是人，后者的消费者是 AI。

## 相关决策

- [ADR-0002](./0002-defer-protocol-selection.md) - UIX IR 协议策略
- [ADR-0003](./0003-web-first-strategy.md) - Web 优先策略
- [ADR-0006](./0006-lucid-ir-specification.md) - UIX IR 规范定义
